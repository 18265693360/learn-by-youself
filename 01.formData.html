<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form id="table">
    <form id="advForm">
        <p>广告名称：<input type="text" name="advName"  value="xixi"></p>
        <p>广告类别：<select name="advType">
            <option value="1">轮播图</option>
            <option value="2">轮播图底部广告</option>
            <option value="3">热门回收广告</option>
            <option value="4">优品精选广告</option>
        </select></p>
        <p><input type="button" id="btn" value="添加"></p>
    </form>
</form>

<form id="advForm">
    <p>广告名称：<input type="text" name="advName" value="xixi"></p>
    <p>广告类别：<select name="advType">
        <option value="1">轮播图</option>
        <option value="2">轮播图底部广告</option>
        <option value="3">热门回收广告</option>
        <option value="4">优品精选广告</option>
    </select></p>
    <p>广告图片：<input type="file" name="advPic"></p>
    <p>广告地址：<input type="text" name="advUrl"></p>
    <p>广告排序：<input type="text" name="orderBy"></p>
    <p><input type="button" id="btn" value="添加"></p>
</form>
</body>
<script>
    // FormData的主要用途有两个：
    // 1、将form表单元素的name与value进行组合，
    // 实现表单数据的序列化，从而减少表单元素的拼接，提高工作效率。
    // 2、异步上传文件

    // 1创建一个空对象
    // 通过formData构造函数创建一个空对象
    var formdata = new FormData();
    //
    //通过append()方法来追加数据
    formdata.append('name',"Ben");

    //通过get方法对值进行读取
    console.log(formdata.get('name'));

    //通过set方法对值进行设置 改变其中的数据
    formdata.set('name','Amazing');
    console.log(formdata.get('name'));


    //2,通过formDate进行初始化 body中擦护功能键表单

    // 通过表单元素作为参数，实现对formData的初始化：
    //获取表单按钮元素
    var btn = document.querySelector('#btn');
    //为按钮添加点击事件
    btn.onclick = function () {

        //根据ID获得页面中的表单元素
        var form = document.querySelector("#advForm");

        //将获得的表单元素作为参数，对formData进行初始化
        var formdata = new FormData(form);

        //通过get方法获得name为advtype的value值
        console.log(formdata.get("advName"));

        //通过get方法获得name为advTuype元素的value值
        console.log(formdata.get("advType"));
    };

    // 二操作方法
    // 1. 通过get(key) 与 getAll(key)来获取相应的值
    //获取key为age的第一个值
    formdata.get("age");
    //获取key为age的所有值，返回值为数组类型
    formdata.getAll("age")

    2.通过append(key,value)在数据尾追加数据
    通过FormData构造函数创建一个空对象
    var formdata = new FormData();

    //通过append()方法在末尾追加key为name值为laoliu的数据
    formdata.append("name", "laoliu")
    //通过append()方法在末尾追加key为name值为laoli的数据
    formdata.append("name", "laoli")
    //通过append()方法在末尾追加key为name值为laotie的数据
    formdata.append("name", "laotie")
    //通过get 方法读取key 为 name 的第一值
    console.log(formdata.get("name"));
    console.log(formdata.getAll('name'));

    //通过set(key, value)来设置修改数据
    // key的值不存在 会添加一条数据
    //通过formData构造函数创建一个空对象
    var formdata = new FormData();
    //如果key的值不存在会为数据添加一个key为 name 值为 laoliu的 数据
    formdata.set("name" , "laoli");
    //通过get方法读取key 为 name 的第一个值
    console.log(formdata.get("name"));

    //key值的存在 会修改对应的value值
    var formdata = new FormData();
    formdata.append("name","laoliu");
    formdata.append("name","laoliu2");
    console.log(formdata.get("name"));
    console.log(formdata.getAll("name"));

    //将存在key 为name 的值修改为laoli
    formdata.set("name", "laoli")
    console.log(formdata.get("name"));
    console.log(formdata.getAll("name"));

    // 通过has(key)来判断是否存在对应key值
    var formdata = new FormData();
    form.append("name", "laoliu");
    //判断是否包含key为name的数据
    console.log(formdata.has("name"));
    console.log(formdata.has("age"));

    //通过delete（key）可以删除数据
    var formdata = new FornData();
    formdata.append("name", "laoliu");
    console.log(formdata.get("name"));
    //删除key为name的值
    form.delete("name");
    console.log(formdata.get("name"));//null

    //三。通过XMLHttpRequest发送数据
    //1。 创建表单
    //2.  发送数据
    var btn = document.querySelector("#btn");
    btn.onclick = function () {
        var formdata = new FormData(document.getElementById("advForm"));
        var xhr = new XMLHttpRequest();
        xhr.open("post","http://127.0.0.1/adv");
        xhr.send(formdata);
        xhr.onload = function () {
            if (xhr.status == 200){
                //...
            }
        }
    }
















</script>
</html>